{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.module.css","Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","Components/Loader/Loader.jsx","Components/Button/Button.jsx","Utils/API.js","Components/App.js","index.js"],"names":["module","exports","Searchbar","onClick","className","css","SearchForm","onSubmit","e","preventDefault","target","elements","request","value","trim","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","data","onSelect","map","oneImageData","webformatURL","src","largeImageURL","alt","tags","ImageGalleryItemImage","id","ImageGallery","modalRoot","document","querySelector","Modal","link","modalToggle","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","event","currentTarget","Spinner","color","height","width","Component","Button","axios","defaults","baseURL","fetchImages","page","a","get","response","App","useState","allImages","setAllImages","selectedImage","setSelectedImage","reqStatus","setReqStatus","setRequest","setPage","isFirstRun","useRef","result","prevState","hits","current","getImages","console","log","scrollTo","top","documentElement","scrollHeight","behavior","handleSelectImage","image","shouldLoadMore","Boolean","length","s","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.007c23ef.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3jv4j\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3TaYp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__PpcZq\",\"Modal\":\"Modal_Modal__30bJf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3ZxFG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2hP9K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__17L_k\",\"SearchForm\":\"Searchbar_SearchForm__3FLM8\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1IGyE\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3uFyN\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1i_Sj\"};","import css from \"./Searchbar.module.css\"\r\n    \r\nexport const Searchbar = ({ onClick }) => {\r\n    return (\r\n        <header className={css.Searchbar}>\r\n            <form className={css.SearchForm} onSubmit={e => {\r\n                e.preventDefault()\r\n                onClick(e.target.elements.request.value.trim())\r\n\r\n            }}>\r\n            <button type=\"submit\" className={css.SearchFormButton}>\r\n            <span className={css.SearchFormButtonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n            className={css.SearchFormInput}\r\n            name=\"request\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            />\r\n        </form>\r\n        </header>\r\n    )\r\n}\r\n\r\n","import css from \"./ImageGalleryItem.module.css\"\r\n\r\nexport const ImageGalleryItem = ({ data, onSelect }) => {\r\n    return (\r\n        <>\r\n            {data.map(oneImageData => (\r\n                <li className={css.ImageGalleryItem} key={oneImageData.id}>\r\n                    <img onClick={() => onSelect(oneImageData.webformatURL)}\r\n                        src={oneImageData.largeImageURL}\r\n                        alt={oneImageData.tags}\r\n                        className={css.ImageGalleryItemImage} />\r\n                </li>\r\n            ))} \r\n        </>\r\n\r\n    )\r\n}","import css from \"./ImageGallery.module.css\"\r\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\r\n    \r\nexport const ImageGallery = ({ data, onSelect }) => {\r\n    return (\r\n        <ul className={css.ImageGallery}>\r\n            <ImageGalleryItem data={data} onSelect={onSelect}/>\r\n        </ul>\r\n    )\r\n}\r\n\r\n","import React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport css from \"./Modal.module.css\"\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\n  function Modal ({link, modalToggle}) {\r\n  useEffect(() => {\r\n      window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    }\r\n  })\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      modalToggle(null);\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      modalToggle(null);\r\n    }\r\n  };\r\n\r\n    return createPortal(\r\n        <div className={css.Overlay} onClick={handleBackdropClick}>\r\n            <div className={css.Modal}>\r\n                <img src={link} alt=\"\"></img>\r\n            </div>\r\n        </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n\r\nexport { Modal }","import { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nclass Spinner extends Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#999999\"\r\n        height={100}\r\n        width={100}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport { Spinner }","import css from \"./Button.module.css\"\r\n\r\nexport const Button = ({ onClick }) => {\r\n    return (\r\n        <button type=\"button\" className={css.Button} onClick={onClick}>Load more</button>\r\n    )\r\n}","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\nconst KEY = \"16347216-fb50075837ded8f23f3479d31\";\n\nexport const fetchImages = async (request, page) => {\n  const response = await axios.get(`?key=${KEY}&q=${request}&page=${page}`);\n  return response.data;\n};\n","import { useEffect, useState, useRef } from \"react\";\nimport \"./App.css\";\nimport { Searchbar } from \"./Searchbar/Searchbar\";\nimport { ImageGallery } from \"./ImageGallery/ImageGallery\";\nimport { Modal } from \"./Modal/Modal\";\nimport { Spinner } from \"./Loader/Loader\";\nimport { Button } from \"./Button/Button\";\nimport { fetchImages } from \"../Utils/API\";\n\nconst App = () => {\n  const [allImages, setAllImages] = useState([]);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [reqStatus, setReqStatus] = useState(null);\n  const [request, setRequest] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const isFirstRun = useRef(true);\n\n  useEffect(() => {\n    if (isFirstRun.current) {\n      isFirstRun.current = false;\n      return;\n    }\n    async function getImages() {\n      const result = await fetchImages(request, page);\n      setAllImages((prevState) => [...prevState, ...result.hits]);\n      setReqStatus(null);\n    }\n\n    if (request !== \"\") {\n      setReqStatus(\"loading\");\n      getImages();\n    }\n\n    if (page > 1) {\n      console.log(\"should scroll\");\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }, [request, page]);\n\n  const handleSelectImage = (image) => {\n    setSelectedImage(image);\n  };\n\n  const handleSubmit = (request) => {\n    setAllImages([]);\n    setRequest(request);\n  };\n\n  const loadMore = () => {\n    setPage((s) => s + 1);\n    // if (page > 1) {\n    //   window.scrollTo({\n    //   top: document.documentElement.scrollHeight,\n    //   behavior: \"smooth\",\n    // });\n    // }\n  };\n\n  const shouldLoadMore = Boolean(allImages.length);\n\n  return (\n    <div className=\"App\">\n      <Searchbar onClick={handleSubmit} />\n      <ImageGallery data={allImages} onSelect={handleSelectImage} />\n      {selectedImage && (\n        <Modal link={selectedImage} modalToggle={handleSelectImage} />\n      )}\n      {shouldLoadMore && !reqStatus && <Button onClick={loadMore} />}\n      {reqStatus && <Spinner />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}