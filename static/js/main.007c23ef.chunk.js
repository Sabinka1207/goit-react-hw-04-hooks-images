(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3jv4j",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3TaYp"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__PpcZq",Modal:"Modal_Modal__30bJf"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3ZxFG"}},30:function(e,t,a){e.exports={Button:"Button_Button__2hP9K"}},37:function(e,t,a){},39:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__17L_k",SearchForm:"Searchbar_SearchForm__3FLM8",SearchFormButton:"Searchbar_SearchFormButton__1IGyE",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3uFyN",SearchFormInput:"Searchbar_SearchFormInput__1i_Sj"}},79:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(10),o=a.n(c),l=(a(37),a(4)),u=a.n(l),s=a(17),i=a(12),m=a(6),j=(a(39),a(5)),b=a.n(j),h=a(0),d=function(e){var t=e.onClick;return Object(h.jsx)("header",{className:b.a.Searchbar,children:Object(h.jsxs)("form",{className:b.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.request.value.trim())},children:[Object(h.jsx)("button",{type:"submit",className:b.a.SearchFormButton,children:Object(h.jsx)("span",{className:b.a.SearchFormButtonLabel,children:"Search"})}),Object(h.jsx)("input",{className:b.a.SearchFormInput,name:"request",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},f=a(26),p=a.n(f),O=a(14),g=a.n(O),x=function(e){var t=e.data,a=e.onSelect;return Object(h.jsx)(h.Fragment,{children:t.map((function(e){return Object(h.jsx)("li",{className:g.a.ImageGalleryItem,children:Object(h.jsx)("img",{onClick:function(){return a(e.webformatURL)},src:e.largeImageURL,alt:e.tags,className:g.a.ImageGalleryItemImage})},e.id)}))})},S=function(e){var t=e.data,a=e.onSelect;return Object(h.jsx)("ul",{className:p.a.ImageGallery,children:Object(h.jsx)(x,{data:t,onSelect:a})})},_=a(15),y=a.n(_),v=document.querySelector("#modal-root");function I(e){var t=e.link,a=e.modalToggle;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&a(null)};return Object(c.createPortal)(Object(h.jsx)("div",{className:y.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a(null)},children:Object(h.jsx)("div",{className:y.a.Modal,children:Object(h.jsx)("img",{src:t,alt:""})})}),v)}var k=a(27),w=a(28),F=a(32),G=a(31),N=a(29),B=a.n(N),L=function(e){Object(F.a)(a,e);var t=Object(G.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return Object(h.jsx)(B.a,{type:"ThreeDots",color:"#999999",height:100,width:100})}}]),a}(n.Component),C=a(30),E=a.n(C),M=function(e){var t=e.onClick;return Object(h.jsx)("button",{type:"button",className:E.a.Button,onClick:t,children:"Load more"})},T=a(16),q=a.n(T);q.a.defaults.baseURL="https://pixabay.com/api/";var R=function(){var e=Object(i.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("?key=".concat("16347216-fb50075837ded8f23f3479d31","&q=").concat(t,"&page=").concat(a));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(m.a)(c,2),l=o[0],j=o[1],b=Object(n.useState)(null),f=Object(m.a)(b,2),p=f[0],O=f[1],g=Object(n.useState)(""),x=Object(m.a)(g,2),_=x[0],y=x[1],v=Object(n.useState)(1),k=Object(m.a)(v,2),w=k[0],F=k[1],G=Object(n.useRef)(!0);Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(_,w);case 2:t=e.sent,r((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t.hits))})),O(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}G.current?G.current=!1:(""!==_&&(O("loading"),function(){e.apply(this,arguments)}()),w>1&&(console.log("should scroll"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})))}),[_,w]);var N=function(e){j(e)},B=Boolean(a.length);return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(d,{onClick:function(e){r([]),y(e)}}),Object(h.jsx)(S,{data:a,onSelect:N}),l&&Object(h.jsx)(I,{link:l,modalToggle:N}),B&&!p&&Object(h.jsx)(M,{onClick:function(){F((function(e){return e+1}))}}),p&&Object(h.jsx)(L,{})]})};o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(J,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.007c23ef.chunk.js.map